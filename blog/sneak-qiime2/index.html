<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>Sneak peek at QIIME2 - Exploring Microbes</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <link href="/images/favicon.png" rel="icon">

<link rel="canonical" href="/blog/sneak-qiime2/">

        <meta name="author" content="Carl-Eric" />
        <meta name="keywords" content="bioinformatics,python" />
        <meta name="description" content="Having a look at the current pre-release of QIIME2" />

        <meta property="og:site_name" content="Exploring Microbes" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Sneak peek at QIIME2"/>
        <meta property="og:url" content="/blog/sneak-qiime2/"/>
        <meta property="og:description" content="Having a look at the current pre-release of QIIME2"/>
        <meta property="article:published_time" content="2017-10-13" />
            <meta property="article:section" content="Blog." />
            <meta property="article:tag" content="bioinformatics" />
            <meta property="article:tag" content="python" />
            <meta property="article:author" content="Carl-Eric" />



    <!-- Bootstrap -->
        <link rel="stylesheet" href="/theme/css/bootstrap.sandstone.min.css" type="text/css"/>
    <link href="/theme/css/font-awesome.min.css" rel="stylesheet">
    <link href="/theme/css/pygments/native.css" rel="stylesheet">
    <link rel="stylesheet" href="/theme/css/style.css" type="text/css"/>
        <link href="/theme/css/custom.css" rel="stylesheet">





</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="/" class="navbar-brand">
<img class="img-responsive pull-left gap-right" src="/images/logo.png" width="125"/>             </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                         <li><a href="/pages/about-me.html">
                             About me.
                          </a></li>
                         <li><a href="/pages/publications.html">
                             Publications.
                          </a></li>
                         <li><a href="/pages/research.html">
                             Research.
                          </a></li>
                         <li><a href="/pages/teaching.html">
                             Teaching.
                          </a></li>
                        <li class="active">
                            <a href="/category/blog.html">Blog.</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="/blog/sneak-qiime2/"
                       rel="bookmark"
                       title="Permalink to Sneak peek at QIIME2">
                        Sneak peek at QIIME2
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2017-10-13T00:00:00+02:00"> Fri 13 October 2017</time>
    </span>





<span class="label label-default">Tags</span>
	<a href="/tags/bioinformatics.html">bioinformatics</a>
        /
	<a href="/tags/python.html">python</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <style>
body {
text-align: justify}
</style>

<h2>Oh QIIME my love</h2>
<p>I did my master in a bioinformatics lab, I was the wet-lab guy, I did not get in touch with any coding. When I was still going to school I was coding a lot (especially QBasic and TurboPascal). However after I left school I kind of lost it. This changed when I started my PhD. When I got my first amplicon / ribo-tag datasets I was confronted with the issue <em>what next</em>? In our lab there was another, more advanced, senior phd student and he introduced me to <em>QIIME</em>. It was love the first sight. Working with <em>QIIME</em> sparked my interest to familiarize myself with <em>Python</em> (surprise, love at first sight again), which I used/use a lot to write, what I call "glue code" to customize things. The thing that I liked the most about <em>QIIME</em> when using it first was that you can easily generate a lot of OK looking figures as output of your analyses - being it community profiles, rarefaction curves, or three-dimensional ordinations (I still remember the first lab meeting where I showed three-dimensional PCoAs from QIIME - it was great ;-)). Moreover, QIIME is for me a prime example for open source software being developed with a lot of input from the community in a very transparent way. Over the years, I used QIIME a lot and it is still is one of my "work horses".</p>
<p><center><a href="http://qiime.org/" style="border:none !important;"><img src="/images/qiime2.svg" alt="QIIME" align="middle" style="width: 250px;"></center></p>
<h3>A matter of believe, or what about mothur?</h3>
<p>When you are dealing with amplicon sequencing data there is of course not only <em>QIIME</em>. It is only a matter of time until you come across <em>mothur</em> as well, and these two are supposedly the most commonly used tools for amplicon data analysis, besides from less wide-spread alternatives such as <a href="https://www.arb-silva.de/ngs/"><em>SILVA ngs</em></a>. When you browse the web you find plenty of forum and blog entries discussing the pro's and con's of <em>mothur</em> and <em>QIIME</em> and often it appears as if choosing one is an almost religious decision shaping your bioinformatic future as microbial ecologist. Yes, I myself use <em>QIIME</em>, but if our lab would have used <em>mothur</em> I would have probably ended up using <em>mothurs</em>. Yes, sometimes it is that simple, in my former department I was basically a matter of office - there were <em>mothur</em> offices next to <em>QIIME</em> offices and there were constant discussions why one is better than the other. Personally I think it is important to note that <em>mothur</em> and <em>QIIME</em> are fundamentally different in their conceptualization. <em>Mothur</em> is a stand-alone tool with many re-implemented tools. The crucial point here is “re-implemented”, meaning that original tools are ported to C++ and optimized for speed, parallelization etc.. When you run the rdp classifiier or uchime from within <em>mothur</em> you are not running the original code, but the mothur's team re-implementation of it. This concept gives <em>mothur</em> in comparison to <em>QIIME</em> a significant edge if hardware resources are limited. <em>QIIME</em> on the other hand is first of all written in <em>Python</em>. <em>Python</em> is in comparison to C++ an interpreted language (while C++ is mostly directly compiled), meaning <em>Python</em> code is by default much slower when executed than C++ code. Moreover, <em>QIIME</em> is in comparison to mothur rather a framework embedding a lot of tools but not re-implementing them. Given that <em>QIIME</em> is written in <em>Python</em> and given that <em>Python</em> is really easy to learn, <em>QIIME</em> functions can be rather easily modified and customized. <em>QIIME</em> is developed by a rather big team, while <em>mothur</em> is maintained by only two people (which is stunning). I do not want to say that any of the two is better than the other, if you interested in differences between <em>QIIME</em> and <em>mothur</em> check out the links below. Stay open-minded and if you have time take both for a spin.</p>
<p><center><a href="https://www.mothur.org/" style="border:none !important;"><img src="/images/mothur.png" alt="Mothur" align="middle" style="width: 250px;"></center></p>
<ul>
<li><a href="https://groups.google.com/forum/#!topic/qiime-forum/vDuBwVF7rOg">An entry from the QIIME forum</a></li>
<li><a href="http://blog.mothur.org/2016/01/12/mothur-and-qiime/">A blog post by Pat Schloss</a></li>
</ul>
<h3>Raising the curtain - QIIME2</h3>
<p>Enough jibber-jabber. Over the years the very active <em>QIIME</em> developers added a lot of functionality to <em>QIIME</em>. With the most recent releases of <em>QIIME</em> I started to have the feeling that it was getting a bit messy. I'm not sure when the actual development of <em>QIIME2</em> started but the very first alpha release came out in time for <a href="https://github.com/qiime2/qiime2/releases/tag/2.0.1">SciPy 2016</a>. Meanwhile, approx. 15 months later the <em>QIIME2</em> development is extremely advanced and the current pre-release is 2017.9. So far I have not really touched <em>QIIME2</em> but with this pre-lease I finally took a look. OK, let's have a quick overview of <em>QIIME2</em> key features:</p>
<ul>
<li>a plugin-based system to easily implement new functions </li>
<li>provenance of generated data (probably one of the coolest new features as it supports reproducibilty and tracking of analyses in general)</li>
<li>multiple denoising functions (<a href="https://benjjneb.github.io/dada2/tutorial.html">dada2</a> and <a href="https://github.com/biocore/deblur">deblur</a>, that directly refers to the ongoing ASV vs. OTU debate, more about that in a different blog post)</li>
<li>a new feature-classifier plugin based on supervised learning (also something for another blog post)</li>
<li>and many more...</li>
</ul>
<h3>Setting up QIIME2</h3>
<p>Alright, let's install <em>QIIME2</em> and take it for a ride. Like <em>QIIME1</em>, <em>QIIME2</em> is extremely well documented. Nevertheless, setting up <em>QIIME1</em> could be a pain. Especially because of dependencies that required certain versions, which easily caused collisions with other software. Using virtual environments made this a lot easier. <em>QIIME2</em> follows a new strategy. The last couple of years saw a lot of developments with respect to virtualization (e.g. <a href="http://www.docker.com">docker</a> to name one). When I looked up the installation instructions for <em>QIIME2</em> I was quite sure to find instructions based on a <em>Python's</em> virtualenv/venv modules. But nope, <a href="https://anaconda.org/"><em>Anaconda</em></a> it is. </p>
<p><em>Anaconda</em> is a <em>Python</em> distribution focussing on scientific work and big data analyses. It recently became rather popular due to its <a href="https://bioconda.github.io/"><em>bioconda</em></a> software channel, which facilitates the deployment of diverse bioinformatic software - neat. Nevertheless, I was not fully happy when I read that <em>QIIME2</em> makes use of <em>Anaconda</em>. I simply prefer virtual environments, however I can understand the reasoning given that <em>QIIME2</em> relies on <a href="https://raw.githubusercontent.com/qiime2/environment-files/master/2017.9/release/qiime2-2017.9-conda-linux-64.txt">211</a> (!!) dependencies, including <em>Python</em> modules, <em>R</em> packages, standalone tools and general linux libraries. The <em>QIIME</em> developers also over a <em>Docker</em> image in case you prefer that over <em>Anaconda</em> (true for me).</p>
<p><center><a href="https://bioconda.github.io/" style="border:none !important;"><img src="/images/bioconda.png" alt="Bioconda" align="middle" style="width: 250px;"></center></p>
<h3>Playing around</h3>
<p>With <em>QIIME2</em> set up I just started to play around. I had a look at the available tutorials, and I decided to do the <a href="https://docs.qiime2.org/2017.9/tutorials/moving-pictures/">"Moving pictures"</a> one. If you are familiar with <em>QIIME1</em> the transition to <em>QIIME2</em> is extremely easy. When I started working with the files I had moment of panick when I came along the first .qza file. I thought "Oh no, a proprietary, closed file format. But of course I was wrong. <em>QIIME2</em> produces two kind of output files <em>QIIME</em> artifacts (.qza) and <em>QIIME</em> visualizations (.qzv). What is really cool is that you can view both kind of files without a <em>QIIME_installation by just going to <a href="https://view.qiime2.org/">https://view.qiime2.org/</a>. This is a great feature for sharing data with collaborators. Both file types appear to be archives that contain always provenance information in form of .yaml files. _QIIME</em> artifacts can be also grouped according to <a href="https://docs.qiime2.org/2017.9/semantic-types/">semantic types</a> (e.g. FeatureTable or DistanceMatrix).</p>
<p>The "Moving pictures" tutorial is great as you get to know a lot of different plugins (e.g. qiime demux for sequence demultiplexing and sequence statistics), the command-line interface of all plugins feels familiar to <em>QIIME1</em> and smoothens the transition from <em>QIIME1</em> to <em>QIIME2</em> a lot. As I have the feeling that I get carried away, I finish it off with some screenshots.</p>
<p>Here we go, hello again 3D PCoA.</p>
<p><center><img src="/images/qiime2_emperor.png" alt="Hello again 3D PCoA." align="middle" style="width: 650px;"></center></p>
<p>The implemented provenance information will favor responsibility.</p>
<p><center><img src="/images/qiime2_provenance.png" alt="The implemented provenance information will favor responsibility." align="middle" style="width: 650px;"></center></p>
<p>You can export figures from visualizations as .svg. That's a super handy feature, making publication-ready figures easy with some polishing for instance in <em>Inkscape</em>.</p>
<p><center><img src="/images/qiime2_bar.png" alt="You can export figures from visualizations as .svg." align="middle" style="width: 650px;"></center></p>
<p>See you</p>
<p>Carl-Eric</p>
            </div>
            <!-- /.entry-content -->
    <hr/>
    <section class="comments" id="comments">
        <h2>Comments</h2>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'exploring-microbes'; // required: replace example with your forum shortname

                    var disqus_identifier = 'sneak-qiime2';
                var disqus_url = 'http://www.exploringmicrobes.de/blog//blog/sneak-qiime2/';

            var disqus_config = function () {
                this.language = "en";
            };

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </section>
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>
            <!--  -->
            <!--    <div id="aboutme" align="center">
	<h3 style="margin-bottom:0.5px;">Carl-Eric Wegner, PhD</h3><br/>
        <p>
            <center><img width="65%" class="img-thumbnail" src="/images/avatar_2017_b.png" border="0"/></center>
        </p>
    <p>
        I'm a <strong>microbial ecologist</strong> and learning by doing <strong>bioinformatician</strong>. My passion is <strong>microbial carbon cycling</strong>, especially C1-metabolism and complex carbon turnover.
    </p>
</div> -->
            </aside>
        </div>
    </div>
</div>
<footer>
   <div class="well well-lg" id="footer-well">
      <div class="container">
      <div class="row">
           <div class="col-sm-4">
               <h3 style="margin-bottom:0.5px;">Websites I Like</h3>
               </br>
               <ul style="list-style-type:none">
                <div style="margin-bottom: 5.5px; margin-top: 5.5px; font-size: 16px;">
                  <li>
                    <a href="https://www.uni-jena.de" target="_blank">
                        FSU Jena
                    </a>
                  </li>
                <div>
                <div style="margin-bottom: 5.5px; margin-top: 5.5px; font-size: 16px;">
                  <li>
                    <a href="http://www.geomicrobiology.de" target="_blank">
                        Küsel Lab
                    </a>
                  </li>
                <div>
                <div style="margin-bottom: 5.5px; margin-top: 5.5px; font-size: 16px;">
                  <li>
                    <a href="http://www.aquadiva.uni-jena.de/" target="_blank">
                        AquaDiva
                    </a>
                  </li>
                <div>
                <div style="margin-bottom: 5.5px; margin-top: 5.5px; font-size: 16px;">
                  <li>
                    <a href="https://www.idiv.de/" target="_blank">
                        iDiv
                    </a>
                  </li>
                <div>
              </ul>

             <!-- // <script src="https://apis.google.com/js/platform.js" async defer></script> -->
              <!-- <g:plusone size="standard(bubble)" data-href="http://the-data-show.com"></g:plusone> -->
              <br>
              <h3 style="margin-bottom:0.5px;">Get in touch</h3>
               </br>
               <ul style="list-style-type:none">
                <div style="margin-bottom: 5.5px; margin-top: 5.5px; font-size: 16px;">
                  <li>
                    <a href="http://twitter.com/wegnerce" target="_blank">
		    <i class="fa fa-twitter fa-lg"></i>
                        twitter
                    </a>
                  </li>
                <div>
                <div style="margin-bottom: 5.5px; margin-top: 5.5px; font-size: 16px;">
                  <li>
                    <a href="http://github.com/wegnerce" target="_blank">
		    <i class="fa fa-github fa-lg"></i>
                        github
                    </a>
                  </li>
                <div>
                <div style="margin-bottom: 5.5px; margin-top: 5.5px; font-size: 16px;">
                  <li>
                    <a href="mailto:carl-eric.wegner@uni-jena.de" target="_blank">
		    <i class="fa fa-envelope fa-lg"></i>
                        mail
                    </a>
                  </li>
                <div>
              </ul>
           </div>
           <div class="col-sm-4">
<div id="aboutme" align="center">
	<h3 style="margin-bottom:0.5px;">Carl-Eric Wegner, PhD</h3><br/>
        <p>
            <center><img width="65%" class="img-thumbnail" src="/images/avatar_2017_b.png" border="0"/></center>
        </p>
    <p>
        I'm a <strong>microbial ecologist</strong> and learning by doing <strong>bioinformatician</strong>. My passion is <strong>microbial carbon cycling</strong>, especially C1-metabolism and complex carbon turnover.
    </p>
</div>
           </div>
      </div>
      <div class="row">
         <div class="col-xs-10">&copy; 2019 Carl-Eric Wegner
            &middot; Powered by <a href="http://python.org/" target="_blank">Python</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            a customized <a href="https://github.com/DandyDev/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            and <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
   </div>
</footer>
<script src="/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="/theme/js/respond.min.js"></script>

    <!-- Disqus -->
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'exploring-microbes'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <!-- End Disqus Code -->


</body>
</html>